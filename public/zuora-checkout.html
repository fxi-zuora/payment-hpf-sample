<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Payment SDK Demo</title>
    <link href="../css/zuora.css" rel="stylesheet">
    <!-- Step 1 - Import zuora payment sdk javascript file-->
    <script src="https://cdn.zuora.com/payment/hpf/zuora.js"></script>
</head>

<body>
<div class="mystore">
    <header class="header">
        <div class="container"><a class="header__link" href="index.html" to="#/">
            <h1 class="header__title">Payment SDK Demo</h1>
            <img src="../static/logo.svg" alt="Zuora logo" class="header__logo">
        </a>
        </div>
    </header>
    <main class="container">
        <section class="checkout">
            <h2 class="checkout__title">Checkout</h2>
            <div class="checkout__payment-form">
                <h3 class="checkout__payment-form__title">Select your payment method</h3>
                <div class="checkout__payment-form__container">
                    <div>
                        <ul>
                            <!-- Step 2-->
                            <li id="payment-request-button">
                            </li>
                        </ul>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="checkout__order-summary">
                <h3 class="checkout__order-summary__title">Order summary</h3>
                <div class="order-summary">
                    <ul class="order-summary__list">
                        <li class="order-summary__list__list-item"><img src="../static/06.png" alt="Headphones"
                                                                        class="lazyload-image lazyload-image--loaded order-summary__list__list-item__image">
                            <p class="order-summary__list__list-item__title">iPhone 14 Pro</p>
                            <p class="order-summary__list__list-item__price">$1599</p>
                        </li>
                    </ul>
                </div>
                <div class="checkout__order-summary__footer"><span
                        class="checkout__order-summary__footer__label">Total:</span><span
                        class="checkout__order-summary__footer__amount">$1599</span></div>
            </div>
        </section>
    </main>
</div>
</body>
<script>
    window.onload = function () {
        // Step 1 - Populate Zuora Object
        const zuora = Zuora("pk_rO0ABXc2AAUxMjM2OAAgOGFkMDljOWY4ZTg2MTEzZjAxOGU4ODI4YTRmNDdiZWQAC1tCQDFhMzY4Njhi");

        // Step 2 - Get billing account
        const account = {

        }

        // Step 2 - Populate HPF related configuration
        const configuration = {
            environment: 'api_sandbox',
            profileId: "8ad084878e7f4043018e839b83c8081f",
            paymentRequest: {
                accountId: "8ad099a98e861143018e882b582c3c8d",
                country: "US",
                currency: 'USD',
                totalPriceLabel: "TestShop",
                amount: 100
            },
            onSuccess: function (response) {
                console.info('paymentMethodId: ' + response.paymentMethodId);
                console.info('paymentId: ' + response.paymentId);
                // window.location.replace('result.html');
                window.alert("Payment success" + "\nPayment Method Id: " + response.paymentMethodId + "\nPayment Id : " + response.paymentId);
            },
            onError: function (response) {
                console.error('code: ' + response.code);
                console.error('message: ' + response.message);
            },
            // hpfSetting: hpfSetting
        };

        // Step 3 - Create HPF Component and mount it
        zuora.create('HostedPaymentForm', configuration).mount("#payment-request-button");
    }
</script>

</html>